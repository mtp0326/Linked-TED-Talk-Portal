"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function isImdsCredentials(arg) {
    return (Boolean(arg) &&
        typeof arg === "object" &&
        typeof arg.AccessKeyId === "string" &&
        typeof arg.SecretAccessKey === "string" &&
        typeof arg.Token === "string" &&
        typeof arg.Expiration === "string");
}
exports.isImdsCredentials = isImdsCredentials;
function fromImdsCredentials(creds) {
    return {
        accessKeyId: creds.AccessKeyId,
        secretAccessKey: creds.SecretAccessKey,
        sessionToken: creds.Token,
        expiration: Math.floor(new Date(creds.Expiration).valueOf() / 1000)
    };
}
exports.fromImdsCredentials = fromImdsCredentials;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW1kc0NyZWRlbnRpYWxzLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsicmVtb3RlUHJvdmlkZXIvSW1kc0NyZWRlbnRpYWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBU0EsU0FBZ0IsaUJBQWlCLENBQUMsR0FBUTtJQUN4QyxPQUFPLENBQ0wsT0FBTyxDQUFDLEdBQUcsQ0FBQztRQUNaLE9BQU8sR0FBRyxLQUFLLFFBQVE7UUFDdkIsT0FBTyxHQUFHLENBQUMsV0FBVyxLQUFLLFFBQVE7UUFDbkMsT0FBTyxHQUFHLENBQUMsZUFBZSxLQUFLLFFBQVE7UUFDdkMsT0FBTyxHQUFHLENBQUMsS0FBSyxLQUFLLFFBQVE7UUFDN0IsT0FBTyxHQUFHLENBQUMsVUFBVSxLQUFLLFFBQVEsQ0FDbkMsQ0FBQztBQUNKLENBQUM7QUFURCw4Q0FTQztBQUVELFNBQWdCLG1CQUFtQixDQUFDLEtBQXNCO0lBQ3hELE9BQU87UUFDTCxXQUFXLEVBQUUsS0FBSyxDQUFDLFdBQVc7UUFDOUIsZUFBZSxFQUFFLEtBQUssQ0FBQyxlQUFlO1FBQ3RDLFlBQVksRUFBRSxLQUFLLENBQUMsS0FBSztRQUN6QixVQUFVLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDO0tBQ3BFLENBQUM7QUFDSixDQUFDO0FBUEQsa0RBT0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDcmVkZW50aWFscyB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEltZHNDcmVkZW50aWFscyB7XG4gIEFjY2Vzc0tleUlkOiBzdHJpbmc7XG4gIFNlY3JldEFjY2Vzc0tleTogc3RyaW5nO1xuICBUb2tlbjogc3RyaW5nO1xuICBFeHBpcmF0aW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ltZHNDcmVkZW50aWFscyhhcmc6IGFueSk6IGFyZyBpcyBJbWRzQ3JlZGVudGlhbHMge1xuICByZXR1cm4gKFxuICAgIEJvb2xlYW4oYXJnKSAmJlxuICAgIHR5cGVvZiBhcmcgPT09IFwib2JqZWN0XCIgJiZcbiAgICB0eXBlb2YgYXJnLkFjY2Vzc0tleUlkID09PSBcInN0cmluZ1wiICYmXG4gICAgdHlwZW9mIGFyZy5TZWNyZXRBY2Nlc3NLZXkgPT09IFwic3RyaW5nXCIgJiZcbiAgICB0eXBlb2YgYXJnLlRva2VuID09PSBcInN0cmluZ1wiICYmXG4gICAgdHlwZW9mIGFyZy5FeHBpcmF0aW9uID09PSBcInN0cmluZ1wiXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSW1kc0NyZWRlbnRpYWxzKGNyZWRzOiBJbWRzQ3JlZGVudGlhbHMpOiBDcmVkZW50aWFscyB7XG4gIHJldHVybiB7XG4gICAgYWNjZXNzS2V5SWQ6IGNyZWRzLkFjY2Vzc0tleUlkLFxuICAgIHNlY3JldEFjY2Vzc0tleTogY3JlZHMuU2VjcmV0QWNjZXNzS2V5LFxuICAgIHNlc3Npb25Ub2tlbjogY3JlZHMuVG9rZW4sXG4gICAgZXhwaXJhdGlvbjogTWF0aC5mbG9vcihuZXcgRGF0ZShjcmVkcy5FeHBpcmF0aW9uKS52YWx1ZU9mKCkgLyAxMDAwKVxuICB9O1xufVxuIl19